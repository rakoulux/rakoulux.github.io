{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{Link}from\"react-router-dom\";// Si tu utilises React Router\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Histoire(){const[frise,setFrise]=useState([]);const friseRef=useRef(null);const isDragging=useRef(false);const startX=useRef(0);const scrollLeft=useRef(0);useEffect(()=>{fetch(\"/JSON/phrise.json\").then(res=>{if(!res.ok){throw new Error(\"Fichier JSON introuvable ou erreur réseau\");}// Lisons le texte brut pour debug\nreturn res.text().then(text=>{console.log(\"Réponse brute reçue :\",text);try{const data=JSON.parse(text);setFrise(data.frise_chronologique_cassoulet||[]);}catch(e){console.error(\"Erreur de parsing JSON :\",e,text);}});}).catch(err=>{console.error(\"Erreur lors du chargement du JSON :\",err);});},[]);// Gestion du drag-scroll horizontal\nconst handleMouseDown=e=>{isDragging.current=true;startX.current=e.pageX-friseRef.current.offsetLeft;scrollLeft.current=friseRef.current.scrollLeft;};const handleMouseLeave=()=>{isDragging.current=false;};const handleMouseUp=()=>{isDragging.current=false;};const handleMouseMove=e=>{if(!isDragging.current)return;e.preventDefault();const x=e.pageX-friseRef.current.offsetLeft;const walk=(x-startX.current)*1.2;// sensibilité\nfriseRef.current.scrollLeft=scrollLeft.current-walk;};// Pour le support tactile (mobile)\nconst touchStartX=useRef(0);const touchScrollLeft=useRef(0);const handleTouchStart=e=>{touchStartX.current=e.touches[0].pageX-friseRef.current.offsetLeft;touchScrollLeft.current=friseRef.current.scrollLeft;};const handleTouchMove=e=>{const x=e.touches[0].pageX-friseRef.current.offsetLeft;const walk=(x-touchStartX.current)*1.2;friseRef.current.scrollLeft=touchScrollLeft.current-walk;};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-beige-home flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-14 bg-orange-home rounded-2xl shadow-lg px-6 py-4 w-full max-w-4xl mx-4 flex flex-row items-center justify-center gap-x-12\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"px-6 py-2 rounded-full text-white font-semibold transition\",children:\"Le cassoulet\"}),/*#__PURE__*/_jsx(Link,{to:\"/description\",className:\"px-6 py-2 rounded-full text-white font-semibold transition\",children:\"Description\"}),/*#__PURE__*/_jsx(Link,{to:\"/reportage\",className:\"px-6 py-2 rounded-full text-white font-semibold transition\",children:\"Reportage\"}),/*#__PURE__*/_jsx(Link,{to:\"/histoire\",className:\"px-6 py-2 rounded-full text-white font-semibold transition\",children:\"Histoire\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"px-6 py-2 rounded-full text-white font-semibold transition\",children:\"A propos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col items-center py-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-8\",children:\"Frise Chronologique du Cassoulet\"}),/*#__PURE__*/_jsx(\"div\",{ref:friseRef,className:\"flex flex-row gap-8 overflow-x-auto cursor-grab select-none rounded-xl px-8 py-6\",style:{width:\"100%\",maxWidth:\"1100px\",userSelect:\"none\"},onMouseDown:handleMouseDown,onMouseLeave:handleMouseLeave,onMouseUp:handleMouseUp,onMouseMove:handleMouseMove,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,children:frise.map((event,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-[220px] bg-orange-100 border-l-4 border-orange-400 px-4 py-3 rounded-md shadow transition hover:scale-105\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-orange-700 mb-2\",children:event.date}),Array.isArray(event.evenement)?/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc ml-4 text-sm text-gray-700\",children:event.evenement.map((e,i)=>/*#__PURE__*/_jsx(\"li\",{children:e},i))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700\",children:event.evenement})]},idx))}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mt-4 text-gray-400\",children:[\"Source : \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.confrerieducassoulet.com/l-histoire.html\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"underline\",children:\"confrerieducassoulet.com\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","jsx","_jsx","jsxs","_jsxs","Histoire","frise","setFrise","friseRef","isDragging","startX","scrollLeft","fetch","then","res","ok","Error","text","console","log","data","JSON","parse","frise_chronologique_cassoulet","e","error","catch","err","handleMouseDown","current","pageX","offsetLeft","handleMouseLeave","handleMouseUp","handleMouseMove","preventDefault","x","walk","touchStartX","touchScrollLeft","handleTouchStart","touches","handleTouchMove","className","children","to","ref","style","width","maxWidth","userSelect","onMouseDown","onMouseLeave","onMouseUp","onMouseMove","onTouchStart","onTouchMove","map","event","idx","date","Array","isArray","evenement","i","href","target","rel"],"sources":["C:/Users/KIS BALINT/Desktop/PROJET FAC 1/cassoulet/src/Pages/histoire.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\"; // Si tu utilises React Router\r\n\r\nexport default function Histoire() {\r\n  const [frise, setFrise] = useState([]);\r\n  const friseRef = useRef(null);\r\n  const isDragging = useRef(false);\r\n  const startX = useRef(0);\r\n  const scrollLeft = useRef(0);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/JSON/phrise.json\")\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(\"Fichier JSON introuvable ou erreur réseau\");\r\n        }\r\n        // Lisons le texte brut pour debug\r\n        return res.text().then(text => {\r\n          console.log(\"Réponse brute reçue :\", text);\r\n          try {\r\n            const data = JSON.parse(text);\r\n            setFrise(data.frise_chronologique_cassoulet || []);\r\n          } catch (e) {\r\n            console.error(\"Erreur de parsing JSON :\", e, text);\r\n          }\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Erreur lors du chargement du JSON :\", err);\r\n      });\r\n  }, []);\r\n  \r\n\r\n  // Gestion du drag-scroll horizontal\r\n  const handleMouseDown = (e) => {\r\n    isDragging.current = true;\r\n    startX.current = e.pageX - friseRef.current.offsetLeft;\r\n    scrollLeft.current = friseRef.current.scrollLeft;\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    isDragging.current = false;\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    isDragging.current = false;\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDragging.current) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - friseRef.current.offsetLeft;\r\n    const walk = (x - startX.current) * 1.2; // sensibilité\r\n    friseRef.current.scrollLeft = scrollLeft.current - walk;\r\n  };\r\n\r\n  // Pour le support tactile (mobile)\r\n  const touchStartX = useRef(0);\r\n  const touchScrollLeft = useRef(0);\r\n\r\n  const handleTouchStart = (e) => {\r\n    touchStartX.current = e.touches[0].pageX - friseRef.current.offsetLeft;\r\n    touchScrollLeft.current = friseRef.current.scrollLeft;\r\n  };\r\n\r\n  const handleTouchMove = (e) => {\r\n    const x = e.touches[0].pageX - friseRef.current.offsetLeft;\r\n    const walk = (x - touchStartX.current) * 1.2;\r\n    friseRef.current.scrollLeft = touchScrollLeft.current - walk;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-beige-home flex flex-col items-center\">\r\n      <div className=\"mt-14 bg-orange-home rounded-2xl shadow-lg px-6 py-4 w-full max-w-4xl mx-4 flex flex-row items-center justify-center gap-x-12\">\r\n        <Link to=\"/\" className=\"px-6 py-2 rounded-full text-white font-semibold transition\">Le cassoulet</Link>\r\n        <Link to=\"/description\" className=\"px-6 py-2 rounded-full text-white font-semibold transition\">Description</Link>\r\n        <Link to=\"/reportage\" className=\"px-6 py-2 rounded-full text-white font-semibold transition\">Reportage</Link>\r\n        <Link to=\"/histoire\" className=\"px-6 py-2 rounded-full text-white font-semibold transition\">Histoire</Link>\r\n        <Link to=\"/about\" className=\"px-6 py-2 rounded-full text-white font-semibold transition\">A propos</Link>\r\n      </div>\r\n\r\n      <div className=\"w-full flex flex-col items-center py-10\">\r\n        <h2 className=\"text-3xl font-bold mb-8\">Frise Chronologique du Cassoulet</h2>\r\n        <div\r\n          ref={friseRef}\r\n          className=\"flex flex-row gap-8 overflow-x-auto cursor-grab select-none rounded-xl px-8 py-6\"\r\n          style={{ width: \"100%\", maxWidth: \"1100px\", userSelect: \"none\" }}\r\n          onMouseDown={handleMouseDown}\r\n          onMouseLeave={handleMouseLeave}\r\n          onMouseUp={handleMouseUp}\r\n          onMouseMove={handleMouseMove}\r\n          onTouchStart={handleTouchStart}\r\n          onTouchMove={handleTouchMove}\r\n        >\r\n          {frise.map((event, idx) => (\r\n            <div\r\n              key={idx}\r\n              className=\"min-w-[220px] bg-orange-100 border-l-4 border-orange-400 px-4 py-3 rounded-md shadow transition hover:scale-105\"\r\n            >\r\n              <div className=\"font-bold text-orange-700 mb-2\">{event.date}</div>\r\n              {Array.isArray(event.evenement) ? (\r\n                <ul className=\"list-disc ml-4 text-sm text-gray-700\">\r\n                  {event.evenement.map((e, i) => (\r\n                    <li key={i}>{e}</li>\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <div className=\"text-sm text-gray-700\">{event.evenement}</div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"text-xs mt-4 text-gray-400\">\r\n          Source : <a href=\"https://www.confrerieducassoulet.com/l-histoire.html\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline\">confrerieducassoulet.com</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}